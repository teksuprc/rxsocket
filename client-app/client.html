<!doctype>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>Client</title>

        <script src="socket.io.js"></script>
    </head>
    <body>
        <div>
            <p>This is where the messages go</p>
            <ul id="messages" style="list-style-type: none; border: 1px solid #777; width: 640px; height: 420px; overflow-y: scroll;">

            </ul>
        </div>

        <script>

            var socket = io('http://localhost:4000');
            
            socket.on('connect', function() {
                console.log('client connect');
            });

            socket.on('event', function(msg) {
                console.log('event', msg);
                var el = document.getElementById('messages');
                el.innerHTML += '<li>' + msg.datetime + ' ' + msg.text + '</li>';
            });

            socket.on('message', function(msg) {
                console.log('message', msg);
                var el = document.getElementById('messages');
                el.innerHTML += '<li>' + msg.datetime + ' ' + msg.text + '</li>';
            });

            socket.on('disconnect', function() {
                console.log('client disconnect');
            });

        </script>

    </body>
</html>